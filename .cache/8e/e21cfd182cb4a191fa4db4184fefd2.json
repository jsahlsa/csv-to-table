{"id":"Focm","dependencies":[{"name":"/workspace/csv-to-table/package.json","includedInParent":true,"mtime":1617824687536}],"generated":{"js":"document.getElementById(\"app\").innerHTML='\\n<h1>Hello Vanilla!</h1>\\n<div>\\n  We use the same configuration as Parcel to bundle this sandbox, you can find more\\n  info about Parcel \\n  <a href=\"https://parceljs.org\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>\\n  <input type=\"file\" />\\n  <input type=\"button\" value=\"upload\" id=\"upload\" /> \\n  <div id=\"table-wrapper\">\\n  </div>\\n</div>\\n';var e=document.querySelector(\"#upload\"),n=document.querySelector(\"input\");function t(){var e=n.files[0],t=new FileReader;t.readAsText(e),t.onload=function(e){var n=document.createElement(\"table\");n.setAttribute(\"contenteditable\",\"\");for(var r=t.result.replace(/(\")|(\\r)/g,\"\").trim().split(\"\\n\"),l=0;l<r.length;l++){var a=r[l].split(\",\");if(console.log(a[0]),a.splice(19,2),a.splice(12,5),a.splice(6,4),a.splice(1,4),a.length>1)for(var i=n.insertRow(-1),o=0;o<a.length;o++){i.insertCell(-1).innerHTML=a[o]}}var d=document.getElementById(\"table-wrapper\");d.innerHTML=\"\",d.appendChild(n)}}e.addEventListener(\"click\",t);"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","name":"document","original":{"line":3,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","name":"getElementById","original":{"line":3,"column":9},"generated":{"line":1,"column":9}},{"source":"index.js","original":{"line":3,"column":24},"generated":{"line":1,"column":24}},{"source":"index.js","name":"innerHTML","original":{"line":3,"column":31},"generated":{"line":1,"column":31}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":41}},{"source":"index.js","original":{"line":16,"column":0},"generated":{"line":1,"column":396}},{"source":"index.js","name":"uploadButton","original":{"line":16,"column":6},"generated":{"line":1,"column":400}},{"source":"index.js","name":"document","original":{"line":16,"column":21},"generated":{"line":1,"column":402}},{"source":"index.js","name":"querySelector","original":{"line":16,"column":30},"generated":{"line":1,"column":411}},{"source":"index.js","original":{"line":16,"column":44},"generated":{"line":1,"column":425}},{"source":"index.js","name":"fileUpload","original":{"line":17,"column":6},"generated":{"line":1,"column":436}},{"source":"index.js","name":"document","original":{"line":17,"column":19},"generated":{"line":1,"column":438}},{"source":"index.js","name":"querySelector","original":{"line":17,"column":28},"generated":{"line":1,"column":447}},{"source":"index.js","original":{"line":17,"column":42},"generated":{"line":1,"column":461}},{"source":"index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":470}},{"source":"index.js","name":"upload","original":{"line":19,"column":9},"generated":{"line":1,"column":479}},{"source":"index.js","name":"file","original":{"line":20,"column":6},"generated":{"line":1,"column":483}},{"source":"index.js","name":"file","original":{"line":20,"column":6},"generated":{"line":1,"column":487}},{"source":"index.js","name":"fileUpload","original":{"line":20,"column":13},"generated":{"line":1,"column":489}},{"source":"index.js","name":"files","original":{"line":20,"column":24},"generated":{"line":1,"column":491}},{"source":"index.js","original":{"line":20,"column":30},"generated":{"line":1,"column":497}},{"source":"index.js","name":"reader","original":{"line":22,"column":6},"generated":{"line":1,"column":500}},{"source":"index.js","original":{"line":22,"column":15},"generated":{"line":1,"column":502}},{"source":"index.js","name":"FileReader","original":{"line":22,"column":19},"generated":{"line":1,"column":506}},{"source":"index.js","name":"reader","original":{"line":24,"column":2},"generated":{"line":1,"column":517}},{"source":"index.js","name":"readAsText","original":{"line":24,"column":9},"generated":{"line":1,"column":519}},{"source":"index.js","name":"file","original":{"line":24,"column":20},"generated":{"line":1,"column":530}},{"source":"index.js","name":"reader","original":{"line":25,"column":2},"generated":{"line":1,"column":533}},{"source":"index.js","name":"onload","original":{"line":25,"column":9},"generated":{"line":1,"column":535}},{"source":"index.js","original":{"line":25,"column":18},"generated":{"line":1,"column":542}},{"source":"index.js","name":"e","original":{"line":25,"column":28},"generated":{"line":1,"column":551}},{"source":"index.js","name":"table","original":{"line":29,"column":10},"generated":{"line":1,"column":554}},{"source":"index.js","name":"table","original":{"line":29,"column":10},"generated":{"line":1,"column":558}},{"source":"index.js","name":"document","original":{"line":29,"column":18},"generated":{"line":1,"column":560}},{"source":"index.js","name":"createElement","original":{"line":29,"column":27},"generated":{"line":1,"column":569}},{"source":"index.js","original":{"line":29,"column":41},"generated":{"line":1,"column":583}},{"source":"index.js","name":"table","original":{"line":30,"column":4},"generated":{"line":1,"column":592}},{"source":"index.js","name":"setAttribute","original":{"line":30,"column":10},"generated":{"line":1,"column":594}},{"source":"index.js","original":{"line":30,"column":23},"generated":{"line":1,"column":607}},{"source":"index.js","original":{"line":30,"column":42},"generated":{"line":1,"column":625}},{"source":"index.js","original":{"line":42,"column":9},"generated":{"line":1,"column":629}},{"source":"index.js","name":"rows","original":{"line":31,"column":8},"generated":{"line":1,"column":633}},{"source":"index.js","name":"rows","original":{"line":31,"column":8},"generated":{"line":1,"column":637}},{"source":"index.js","name":"reader","original":{"line":31,"column":15},"generated":{"line":1,"column":639}},{"source":"index.js","name":"result","original":{"line":31,"column":22},"generated":{"line":1,"column":641}},{"source":"index.js","name":"replace","original":{"line":32,"column":7},"generated":{"line":1,"column":648}},{"source":"index.js","original":{"line":32,"column":15},"generated":{"line":1,"column":656}},{"source":"index.js","original":{"line":32,"column":28},"generated":{"line":1,"column":668}},{"source":"index.js","name":"trim","original":{"line":33,"column":7},"generated":{"line":1,"column":672}},{"source":"index.js","name":"split","original":{"line":34,"column":7},"generated":{"line":1,"column":679}},{"source":"index.js","original":{"line":34,"column":13},"generated":{"line":1,"column":685}},{"source":"index.js","name":"i","original":{"line":42,"column":13},"generated":{"line":1,"column":691}},{"source":"index.js","original":{"line":42,"column":17},"generated":{"line":1,"column":693}},{"source":"index.js","name":"i","original":{"line":42,"column":20},"generated":{"line":1,"column":695}},{"source":"index.js","name":"rows","original":{"line":42,"column":24},"generated":{"line":1,"column":697}},{"source":"index.js","name":"length","original":{"line":42,"column":29},"generated":{"line":1,"column":699}},{"source":"index.js","name":"i","original":{"line":42,"column":37},"generated":{"line":1,"column":706}},{"source":"index.js","original":{"line":42,"column":42},"generated":{"line":1,"column":710}},{"source":"index.js","name":"cells","original":{"line":43,"column":10},"generated":{"line":1,"column":711}},{"source":"index.js","name":"cells","original":{"line":43,"column":10},"generated":{"line":1,"column":715}},{"source":"index.js","name":"rows","original":{"line":43,"column":18},"generated":{"line":1,"column":717}},{"source":"index.js","name":"i","original":{"line":43,"column":23},"generated":{"line":1,"column":719}},{"source":"index.js","name":"split","original":{"line":43,"column":26},"generated":{"line":1,"column":722}},{"source":"index.js","original":{"line":43,"column":32},"generated":{"line":1,"column":728}},{"source":"index.js","name":"cells","original":{"line":50,"column":10},"generated":{"line":1,"column":733}},{"source":"index.js","name":"console","original":{"line":44,"column":6},"generated":{"line":1,"column":736}},{"source":"index.js","name":"log","original":{"line":44,"column":14},"generated":{"line":1,"column":744}},{"source":"index.js","name":"cells","original":{"line":44,"column":18},"generated":{"line":1,"column":748}},{"source":"index.js","original":{"line":44,"column":24},"generated":{"line":1,"column":750}},{"source":"index.js","name":"cells","original":{"line":45,"column":6},"generated":{"line":1,"column":754}},{"source":"index.js","name":"splice","original":{"line":45,"column":12},"generated":{"line":1,"column":756}},{"source":"index.js","original":{"line":45,"column":19},"generated":{"line":1,"column":763}},{"source":"index.js","original":{"line":45,"column":23},"generated":{"line":1,"column":766}},{"source":"index.js","name":"cells","original":{"line":46,"column":6},"generated":{"line":1,"column":769}},{"source":"index.js","name":"splice","original":{"line":46,"column":12},"generated":{"line":1,"column":771}},{"source":"index.js","original":{"line":46,"column":19},"generated":{"line":1,"column":778}},{"source":"index.js","original":{"line":46,"column":23},"generated":{"line":1,"column":781}},{"source":"index.js","name":"cells","original":{"line":47,"column":6},"generated":{"line":1,"column":784}},{"source":"index.js","name":"splice","original":{"line":47,"column":12},"generated":{"line":1,"column":786}},{"source":"index.js","original":{"line":47,"column":19},"generated":{"line":1,"column":793}},{"source":"index.js","original":{"line":47,"column":22},"generated":{"line":1,"column":795}},{"source":"index.js","name":"cells","original":{"line":48,"column":6},"generated":{"line":1,"column":798}},{"source":"index.js","name":"splice","original":{"line":48,"column":12},"generated":{"line":1,"column":800}},{"source":"index.js","original":{"line":48,"column":19},"generated":{"line":1,"column":807}},{"source":"index.js","original":{"line":48,"column":22},"generated":{"line":1,"column":809}},{"source":"index.js","name":"cells","original":{"line":50,"column":10},"generated":{"line":1,"column":812}},{"source":"index.js","name":"length","original":{"line":50,"column":16},"generated":{"line":1,"column":814}},{"source":"index.js","original":{"line":50,"column":25},"generated":{"line":1,"column":821}},{"source":"index.js","original":{"line":52,"column":13},"generated":{"line":1,"column":823}},{"source":"index.js","name":"row","original":{"line":51,"column":12},"generated":{"line":1,"column":827}},{"source":"index.js","name":"row","original":{"line":51,"column":12},"generated":{"line":1,"column":831}},{"source":"index.js","name":"table","original":{"line":51,"column":18},"generated":{"line":1,"column":833}},{"source":"index.js","name":"insertRow","original":{"line":51,"column":24},"generated":{"line":1,"column":835}},{"source":"index.js","original":{"line":51,"column":35},"generated":{"line":1,"column":846}},{"source":"index.js","name":"j","original":{"line":52,"column":17},"generated":{"line":1,"column":849}},{"source":"index.js","original":{"line":52,"column":21},"generated":{"line":1,"column":851}},{"source":"index.js","name":"j","original":{"line":52,"column":24},"generated":{"line":1,"column":853}},{"source":"index.js","name":"cells","original":{"line":52,"column":28},"generated":{"line":1,"column":855}},{"source":"index.js","name":"length","original":{"line":52,"column":34},"generated":{"line":1,"column":857}},{"source":"index.js","name":"j","original":{"line":52,"column":42},"generated":{"line":1,"column":864}},{"source":"index.js","original":{"line":52,"column":47},"generated":{"line":1,"column":868}},{"source":"index.js","name":"row","original":{"line":53,"column":21},"generated":{"line":1,"column":869}},{"source":"index.js","name":"insertCell","original":{"line":53,"column":25},"generated":{"line":1,"column":871}},{"source":"index.js","original":{"line":53,"column":37},"generated":{"line":1,"column":883}},{"source":"index.js","name":"innerHTML","original":{"line":54,"column":15},"generated":{"line":1,"column":886}},{"source":"index.js","name":"cells","original":{"line":54,"column":27},"generated":{"line":1,"column":896}},{"source":"index.js","name":"j","original":{"line":54,"column":33},"generated":{"line":1,"column":898}},{"source":"index.js","name":"tableContainer","original":{"line":58,"column":10},"generated":{"line":1,"column":902}},{"source":"index.js","name":"tableContainer","original":{"line":58,"column":10},"generated":{"line":1,"column":906}},{"source":"index.js","name":"document","original":{"line":58,"column":27},"generated":{"line":1,"column":908}},{"source":"index.js","name":"getElementById","original":{"line":58,"column":36},"generated":{"line":1,"column":917}},{"source":"index.js","original":{"line":58,"column":51},"generated":{"line":1,"column":932}},{"source":"index.js","name":"tableContainer","original":{"line":59,"column":4},"generated":{"line":1,"column":949}},{"source":"index.js","name":"innerHTML","original":{"line":59,"column":19},"generated":{"line":1,"column":951}},{"source":"index.js","original":{"line":59,"column":31},"generated":{"line":1,"column":961}},{"source":"index.js","name":"tableContainer","original":{"line":60,"column":4},"generated":{"line":1,"column":964}},{"source":"index.js","name":"appendChild","original":{"line":60,"column":19},"generated":{"line":1,"column":966}},{"source":"index.js","name":"table","original":{"line":60,"column":31},"generated":{"line":1,"column":978}},{"source":"index.js","name":"uploadButton","original":{"line":64,"column":0},"generated":{"line":1,"column":982}},{"source":"index.js","name":"addEventListener","original":{"line":64,"column":13},"generated":{"line":1,"column":984}},{"source":"index.js","original":{"line":64,"column":30},"generated":{"line":1,"column":1001}},{"source":"index.js","name":"upload","original":{"line":64,"column":39},"generated":{"line":1,"column":1009}}],"sources":{"index.js":"\n\ndocument.getElementById(\"app\").innerHTML = `\n<h1>Hello Vanilla!</h1>\n<div>\n  We use the same configuration as Parcel to bundle this sandbox, you can find more\n  info about Parcel \n  <a href=\"https://parceljs.org\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>\n  <input type=\"file\" />\n  <input type=\"button\" value=\"upload\" id=\"upload\" /> \n  <div id=\"table-wrapper\">\n  </div>\n</div>\n`;\n\nconst uploadButton = document.querySelector(\"#upload\");\nconst fileUpload = document.querySelector(\"input\");\n\nfunction upload() {\n  let file = fileUpload.files[0];\n\n  let reader = new FileReader();\n\n  reader.readAsText(file);\n  reader.onload = function (e) {\n    // replace double quotes and extract each row as an array item\n\n    // console.log(reader.result);\n    const table = document.createElement(\"table\");\n    table.setAttribute(\"contenteditable\", \"\");\n    let rows = reader.result\n      .replace(/(\")|(\\r)/g, \"\")\n      .trim()\n      .split(\"\\n\");\n    // let cells = rows.map((item, i) => {\n    //   return item.split(\",\");\n    // });\n    // should be carrier code\n    // each row is sub array\n    // console.log(cells[0][0]);\n\n    for (let i = 0; i < rows.length; i++) {\n      let cells = rows[i].split(\",\");\n      console.log(cells[0]);\n      cells.splice(19, 2);\n      cells.splice(12, 5);\n      cells.splice(6, 4);\n      cells.splice(1, 4);\n\n      if (cells.length > 1) {\n        let row = table.insertRow(-1);\n        for (let j = 0; j < cells.length; j++) {\n          let cell = row.insertCell(-1);\n          cell.innerHTML = cells[j];\n        }\n      }\n    }\n    const tableContainer = document.getElementById(\"table-wrapper\");\n    tableContainer.innerHTML = \"\";\n    tableContainer.appendChild(table);\n  };\n}\n\nuploadButton.addEventListener(\"click\", upload);\n"},"lineCount":null}},"error":null,"hash":"3e6ccefdfe6e1b294100816dd8d756c6","cacheData":{"env":{}}}