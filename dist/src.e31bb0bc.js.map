{"version":3,"sources":["index.js"],"names":["document","getElementById","innerHTML","uploadButton","querySelector","fileUpload","fileInput","upload","file","files","reader","FileReader","readAsText","onload","e","table","createElement","setAttribute","rows","result","replace","trim","split","i","length","cells","console","log","splice","push","row","insertRow","j","cell","insertCell","carrier","group","recipient","sender","location","tracking","pounds","textContent","tableContainer","appendChild","addEventListener"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["\n\ndocument.getElementById(\"app\").innerHTML = `\n<h1>Esmeralda Package Inventory</h1>\n<div>\n  <label for=\"file-input\" class=\"custom-file-input\">Upload CSV\n  <input type=\"file\" id=\"file-input\" />\n  </label>\n  <input type=\"button\" value=\"Export\" id=\"upload\" /> \n  <div id=\"table-wrapper\">\n  </div>\n</div>\n`;\n\nconst uploadButton = document.querySelector(\"#upload\");\nconst fileUpload = document.querySelector(\"input\");\nconst fileInput = document.querySelector('.custom-file-input');\n\n\nfunction upload() {\n    let file = fileUpload.files[0];\n\n    let reader = new FileReader();\n\n    reader.readAsText(file);\n    reader.onload = function (e) {\n        // replace double quotes and extract each row as an array item\n\n        // console.log(reader.result);\n        const table = document.createElement(\"table\");\n\n\n        table.setAttribute(\"contenteditable\", \"\");\n        let rows = reader.result\n            .replace(/(\")|(\\r)/g, \"\")\n            .trim()\n            .split(\"\\n\");\n        // let cells = rows.map((item, i) => {\n        //   return item.split(\",\");\n        // });\n        // should be carrier code\n        // each row is sub array\n        // console.log(cells[0][0]);\n\n        for (let i = 0; i < rows.length; i++) {\n            let cells = rows[i].split(\",\");\n            console.log(cells[0]);\n            cells.splice(19, 2);\n            cells.splice(12, 5);\n            cells.splice(6, 4);\n            cells.splice(1, 4);\n            cells.push(\"       \", \"       \");\n\n            if (cells.length > 1) {\n                let row = table.insertRow(-1);\n                for (let j = 0; j < cells.length; j++) {\n                    let cell = row.insertCell(-1);\n                    cell.innerHTML = cells[j];\n                }\n            }\n        }\n\n        for (let i = 0; i < table.rows.length; i++) {\n            let carrier = table.rows[0].cells[0];\n            let group = table.rows[0].cells[1];\n            let recipient = table.rows[0].cells[2];\n            let sender = table.rows[0].cells[3];\n            let location = table.rows[0].cells[4];\n            let tracking = table.rows[0].cells[5];\n            let pounds = table.rows[0].cells[6];\n            carrier.textContent = 'Carrier';\n            group.textContent = 'Group';\n            recipient.textContent = 'Recipient';\n            sender.textContent = 'Sender';\n            location.textContent = 'Loc.';\n            tracking.textContent = 'Tracking #';\n            pounds.textContent = 'LBs';\n        }\n        const tableContainer = document.getElementById(\"table-wrapper\");\n        tableContainer.innerHTML = \"\";\n        tableContainer.appendChild(table);\n    };\n}\n\nfileInput.addEventListener('change', () => {\n    fileInput.textContent = \"uploaded\";\n});\nuploadButton.addEventListener(\"click\", upload);\n\n"]}