{"version":3,"sources":["index.js"],"names":["document","getElementById","innerHTML","uploadButton","querySelector","fileUpload","fileInput","upload","file","files","reader","FileReader","readAsText","onload","e","table","createElement","setAttribute","rows","result","replace","trim","split","i","length","cells","console","log","splice","push","row","insertRow","j","insertCell","carrier","group","recipient","sender","location","tracking","pounds","textContent","tableContainer","appendChild","addEventListener"],"mappings":";AAEAA,SAASC,eAAe,OAAOC,UAA/B,4QAYA,IAAMC,EAAeH,SAASI,cAAc,WACtCC,EAAaL,SAASI,cAAc,SACpCE,EAAYN,SAASI,cAAc,sBAGzC,SAASG,IACDC,IAAAA,EAAOH,EAAWI,MAAM,GAExBC,EAAS,IAAIC,WAEjBD,EAAOE,WAAWJ,GAClBE,EAAOG,OAAS,SAAUC,GAIhBC,IAAAA,EAAQf,SAASgB,cAAc,SAGrCD,EAAME,aAAa,kBAAmB,IAYjC,IAXDC,IAAAA,EAAOR,EAAOS,OACbC,QAAQ,YAAa,IACrBC,OACAC,MAAM,MAQFC,EAAI,EAAGA,EAAIL,EAAKM,OAAQD,IAAK,CAC9BE,IAAAA,EAAQP,EAAKK,GAAGD,MAAM,KAQtBG,GAPJC,QAAQC,IAAIF,EAAM,IAClBA,EAAMG,OAAO,GAAI,GACjBH,EAAMG,OAAO,GAAI,GACjBH,EAAMG,OAAO,EAAG,GAChBH,EAAMG,OAAO,EAAG,GAChBH,EAAMI,KAAK,UAAW,WAElBJ,EAAMD,OAAS,EAEV,IADDM,IAAAA,EAAMf,EAAMgB,WAAW,GAClBC,EAAI,EAAGA,EAAIP,EAAMD,OAAQQ,IAAK,CACxBF,EAAIG,YAAY,GACtB/B,UAAYuB,EAAMO,IAK9B,IAAA,IAAIT,EAAI,EAAGA,EAAIR,EAAMG,KAAKM,OAAQD,IAAK,CACpCW,IAAAA,EAAUnB,EAAMG,KAAK,GAAGO,MAAM,GAC9BU,EAAQpB,EAAMG,KAAK,GAAGO,MAAM,GAC5BW,EAAYrB,EAAMG,KAAK,GAAGO,MAAM,GAChCY,EAAStB,EAAMG,KAAK,GAAGO,MAAM,GAC7Ba,EAAWvB,EAAMG,KAAK,GAAGO,MAAM,GAC/Bc,EAAWxB,EAAMG,KAAK,GAAGO,MAAM,GAC/Be,EAASzB,EAAMG,KAAK,GAAGO,MAAM,GACjCS,EAAQO,YAAc,UACtBN,EAAMM,YAAc,QACpBL,EAAUK,YAAc,YACxBJ,EAAOI,YAAc,SACrBH,EAASG,YAAc,OACvBF,EAASE,YAAc,aACvBD,EAAOC,YAAc,MAEnBC,IAAAA,EAAiB1C,SAASC,eAAe,iBAC/CyC,EAAexC,UAAY,GAC3BwC,EAAeC,YAAY5B,IAInCT,EAAUsC,iBAAiB,SAAU,WACjCtC,EAAUmC,YAAc,aAE5BtC,EAAayC,iBAAiB,QAASrC","file":"src.d277734b.js","sourceRoot":"../src","sourcesContent":["\n\ndocument.getElementById(\"app\").innerHTML = `\n<h1>Esmeralda Package Inventory</h1>\n<div>\n  <label for=\"file-input\" class=\"custom-file-input\">Upload CSV\n  <input type=\"file\" id=\"file-input\" />\n  </label>\n  <input type=\"button\" value=\"Export\" id=\"upload\" /> \n  <div id=\"table-wrapper\">\n  </div>\n</div>\n`;\n\nconst uploadButton = document.querySelector(\"#upload\");\nconst fileUpload = document.querySelector(\"input\");\nconst fileInput = document.querySelector('.custom-file-input');\n\n\nfunction upload() {\n    let file = fileUpload.files[0];\n\n    let reader = new FileReader();\n\n    reader.readAsText(file);\n    reader.onload = function (e) {\n        // replace double quotes and extract each row as an array item\n\n        // console.log(reader.result);\n        const table = document.createElement(\"table\");\n\n\n        table.setAttribute(\"contenteditable\", \"\");\n        let rows = reader.result\n            .replace(/(\")|(\\r)/g, \"\")\n            .trim()\n            .split(\"\\n\");\n        // let cells = rows.map((item, i) => {\n        //   return item.split(\",\");\n        // });\n        // should be carrier code\n        // each row is sub array\n        // console.log(cells[0][0]);\n\n        for (let i = 0; i < rows.length; i++) {\n            let cells = rows[i].split(\",\");\n            console.log(cells[0]);\n            cells.splice(19, 2);\n            cells.splice(12, 5);\n            cells.splice(6, 4);\n            cells.splice(1, 4);\n            cells.push(\"       \", \"       \");\n\n            if (cells.length > 1) {\n                let row = table.insertRow(-1);\n                for (let j = 0; j < cells.length; j++) {\n                    let cell = row.insertCell(-1);\n                    cell.innerHTML = cells[j];\n                }\n            }\n        }\n\n        for (let i = 0; i < table.rows.length; i++) {\n            let carrier = table.rows[0].cells[0];\n            let group = table.rows[0].cells[1];\n            let recipient = table.rows[0].cells[2];\n            let sender = table.rows[0].cells[3];\n            let location = table.rows[0].cells[4];\n            let tracking = table.rows[0].cells[5];\n            let pounds = table.rows[0].cells[6];\n            carrier.textContent = 'Carrier';\n            group.textContent = 'Group';\n            recipient.textContent = 'Recipient';\n            sender.textContent = 'Sender';\n            location.textContent = 'Loc.';\n            tracking.textContent = 'Tracking #';\n            pounds.textContent = 'LBs';\n        }\n        const tableContainer = document.getElementById(\"table-wrapper\");\n        tableContainer.innerHTML = \"\";\n        tableContainer.appendChild(table);\n    };\n}\n\nfileInput.addEventListener('change', () => {\n    fileInput.textContent = \"uploaded\";\n});\nuploadButton.addEventListener(\"click\", upload);\n\n"]}